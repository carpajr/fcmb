## Futronic with NIST SDK - FCMB

This project is a fork of the [Derick Felix FCMB project](https://github.com/derickfelix/fcmb/releases), and the main contribution of this version is to source a little enhancement on the reader extraction process and some awareness about how NIST (The National Institute of Standards and Technology) tools work.

The libs sourced by futronic are responsible for extracting biometric images to be processed by NIST tools that build a robust system to extract minutiae, generate templates, and compare biometric fingerprint.


### Process to extract biometric data

1. **CWSQ** get as input the image in grayscale generated by the reader and convert, compressing it, to Wavelet Scalar Quantization algorithm (WSQ) format. WSQ format and CWSQ are both developed by NIST.

2. **MINDTCT** the minutiae detector extracts fingerprint minutiae and builds a list of coordinates representing a graph structure (.xyt file). Each node is a minutia, a particular point in a fingerprint that in a set usually identify a person uniquely.

3. **BOZORTH3** compare a fingerprint with another or with a dataset and generates a ranking. The results must be evaluated with a dataset to set up a feasible limit.


### Compatibility

*. Linux (x86 and ARM)


### Instalation

#### Binaries

Available in [release](https://github.com/carpajr/fcmb/releases)

#### Source code

```
git clone https://github.com/carpajr/fcmb
cd fcmb
make all
 
```

### Usage


#### Minutiae extraction

<code>fcmb &lt;directory&gt; &lt;name&gt;</code><br/>

*. name: person identification that can be the person-name or person-name-finger
*. directory: where *.xyt files will be generated


When you run fcmb, the software executes:
1. Using CWSQ, convert a bitmap in a WSQ file
```exec/cwsq 2.25 wsq {{directory}}/{{name}}.bmp -raw_in 320,480,8```

2. Using MINDTCT extracts minutiae of WSQ file
```exec/mindtct {{directory}}/{{name}}.wsq {{directory}}/{{name}}```


#### Comparison process

1. Comparing a person 1:1
 exec/bozorth3 -T 40 -A outfmt=spg -p data/user.xyt data/Hamlet_fingerA3.xyt

Expected result:
408 data/user.xyt data/Hamlet_finger_A3.xyt

2. Comparing a person with a dataset or 1:n
exec/bozorth3 -T 40 -A outfmt=spg -p data/user.xyt data/*.xyt

Expected result:
61 data/user.xyt data/Hamlet_finger_A1.xyt
97 data/user.xyt data/Hamlet_finger_A2.xyt
408 data/user.xyt data/Hamlet_finger_A3.xyt

A1, A2, A3 could be a fingerprint that was extracted, positioning the same finger three times with different positions.

Where:
-T is a threshold param - only fingerprints with more than 40 minutiae will be compared
-A outfmt=spg - shows the score, source, and found biometry

Consult other options using:
exec/bozorth3 --help

### Usage
<code>fcmb &lt;directory&gt; &lt;name&gt;</code><br/>

It'll request a finger, then a bitmap image (name.bmp) and a minutiae map file (name.xyt) will be generated on the directory you informed so that you can visualize the finger scanned and use its minutiae with Bozorth3 according with your needs.

## Acknowledge
The credits are all to [Derick](https://github.com/derickfelix) to share the knowledge to integrates the fingerprint and free tools.


